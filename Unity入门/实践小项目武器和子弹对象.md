# 实践小项目武器和子弹对象

![a3eb65aff453aa8e56707d1691fc850d.png](image/a3eb65aff453aa8e56707d1691fc850d.png)

子弹发射的逻辑：

玩家开火——>武器创建出一个子弹

![c265da0f51a8c7e732399226286c9789.png](image/c265da0f51a8c7e732399226286c9789.png)

子弹发射——炮管——炮管创建一个子弹发射出去

![d7f7bfb56cc6588e3a980d3a5bd8a57f.png](image/d7f7bfb56cc6588e3a980d3a5bd8a57f.png)

因为有的武器有几个炮管，所以子弹位置信息用数组存起来

![afe3b5a9fd1840e558cc0862923b0020.png](image/afe3b5a9fd1840e558cc0862923b0020.png)

子弹：

![ebdbf6b2c12151f771d13e9479fbb96f.png](image/ebdbf6b2c12151f771d13e9479fbb96f.png)

子弹：

让人受伤——>要知道发射者是谁，因为受伤的逻辑是将造成伤害的对象传进来，所以武器要知道拥有者是谁，子弹才能知道谁发射的，物体才能知道谁给自己造成了伤害

发射出去

---

---

创建子弹脚本，移动，移动子弹的脚本给到子弹预设体

不希望改变资源里的预设体，所以拖出来挂上子弹脚本重新设成预设体

![e3c2d1b557affb79c8b5fa50a4c9a52f.png](image/e3c2d1b557affb79c8b5fa50a4c9a52f.png)

加刚体和碰撞盒（做成触发器，检测是否碰到敌人）

触发监听函数，和别人碰撞触发的效果，用tag来区分

---

如何知道是谁发射的？

子弹在创建的时候就得到拥有者，被击中的物体得到发射者对象是谁

（得到父类对象，创建了子弹后，得到子弹脚本并存起来，用子弹脚本调用存入函数将自己的父对象传过去）

![9c73798d7e021ac02a43e58478463fe4.png](image/9c73798d7e021ac02a43e58478463fe4.png)

![b15781dc03ff9d6a9af8a53648233c55.png](image/b15781dc03ff9d6a9af8a53648233c55.png)

![fa4b0b4bb5898884ccfb71345de006df.png](image/fa4b0b4bb5898884ccfb71345de006df.png)

![a2b99db02ed636002ac2dfb76548cf62.png](image/a2b99db02ed636002ac2dfb76548cf62.png)

---

给坦克预设体加上刚体约束，碰撞的时候就不会乱转和乱走了，只要x,z才受影响

![00c8f0e2cff0ed2a7fb86831a178ce90.png](image/00c8f0e2cff0ed2a7fb86831a178ce90.png)

子弹碰撞销毁时可以创建一个爆炸特效，还有记得将音效与设置面板音效关联
